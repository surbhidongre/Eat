(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(35)},35:function(e,t,a){"use strict";a.r(t);var s=a(1),l=a.n(s),n=a(2),i=a.n(n),c=a(4),r=a(5),o=a(8),m=a(6),d=a(9),u=(a(11),a(3)),h=a(17),p=a.n(h),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={pax:"",date:"",time:"",availability:[],name:"",address:"",allotedslots:[],availableDate:[],showAvailabilty:!1,selectTimeSlot:""},console.log(p()(a.props.params.date).format("MonDDYY")),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"ui raised very padded text container segment"},l.a.createElement("h2",{className:"ui header"},l.a.createElement("div",{className:"col-sm-5"},l.a.createElement("h1",{className:"mb-5"},this.props.params.name),l.a.createElement("h2",{className:"ui small label"},this.props.params.address)),l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("h1",{className:"mb-5"},this.state.name),l.a.createElement("h3",null,"Reservation for ",this.props.params.date," at ",this.props.params.selectTimeSlot," for ",this.props.params.pax),l.a.createElement("h2",{className:"ui small label"},this.state.address))),l.a.createElement("div",{class:"ui form"},l.a.createElement("div",{class:"two fields"},l.a.createElement("div",{class:"field"},l.a.createElement("input",{placeholder:"First Name",type:"text"})),l.a.createElement("div",{class:"field"},l.a.createElement("input",{placeholder:"Last Name",type:"text"}))),l.a.createElement("div",{className:"two fields"},l.a.createElement("div",{className:"field"},l.a.createElement("input",{placeholder:"Phone No",type:"text"})),l.a.createElement("div",{className:"field"},l.a.createElement("input",{placeholder:"Email",type:"text"}))),l.a.createElement("div",{className:"field"},l.a.createElement("input",{placeholder:"Special Request",type:"text"})),"By continuing, you agree to Eat\u2019s Terms of Service and Privacy Policy.",l.a.createElement("button",{className:"ui green button"},"Complete ReserVation")))}}]),t}(l.a.Component),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).steps={hour:1,minute:15,second:30},a.datesAvailable=[],a.timeslotsAvailable=[],a.allowedPeople=[],a.handleSearchAvailibility=function(e){fetch("https://api.sandbox.eatapp.co/public/v2/restaurants/14bf9273-64f3-4b39-875b-a616fc83f453",{method:"GET",headers:{Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){a.setState({availability:e.data.attributes.openings});var t,s=a.state.date,l=a.state.time;t=a.state.availability[s];for(var n=0,i=0,c=0;c<t.length;c++)t[c]===l&&(i=c);for(var r=[],o=i;o<t.length;o++)n<5&&(r.push(t[o]),n++);if(n<5)for(var m=0;m<5;m++)r.push("Unavailable"),n++;a.setState({allotedslots:r}),a.setState({showAvailabilty:!0})}).catch(function(e){return console.log(e)})},a.onChangeDate=function(e){a.setState({date:e.target.value})},a.onChangeTime=function(e){a.setState({time:e.target.value})},a.onChangePax=function(e){a.setState({pax:e.target.value})},a.state={pax:"",date:"",time:"",availability:[],name:"",address:"",allotedslots:[],availableDate:[],showAvailabilty:!1,selectTimeSlot:""},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.sandbox.eatapp.co/public/v2/restaurants/14bf9273-64f3-4b39-875b-a616fc83f453",{method:"GET",headers:{Accept:"application/json"}}).then(function(e){return e.json()}).then(function(t){var a=[];e.setState({name:t.data.attributes.name}),e.setState({address:t.data.attributes.address_line_1});for(var s=Object.keys(t.data.attributes.openings).length,l=0;l<s;l++)e.datesAvailable.push(Object.keys(t.data.attributes.openings)[l]);e.timeslotsAvailable=Object.keys(t.data.attributes.openings)[e.datesAvailable[1]],e.timeslotsAvailable=Object.values(t.data.attributes.openings)[1];for(var n=1;n<=50;n++)a.push(n+" People");e.allowedPeople=a}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("div",{className:"ui raised very padded text container segment",style:{display:""==this.state.selectTimeSlot?"block":"none"}},l.a.createElement("h2",{className:"ui header"},l.a.createElement("div",{className:"col-sm-5"},l.a.createElement("h1",{className:"mb-5"},this.state.name),l.a.createElement("h2",{className:"ui small label"},this.state.address))),l.a.createElement("div",{className:"ui action input"},l.a.createElement(u.a,{data:this.allowedPeople,value:this.state.pax,defaultItem:"2 People",onChange:this.onChangePax}),l.a.createElement(u.a,{data:this.datesAvailable,value:this.state.date,onChange:this.onChangeDate}),l.a.createElement(u.a,{data:this.timeslotsAvailable,value:this.state.time,onChange:this.onChangeTime}),l.a.createElement("div",{className:"ui green button",onClick:this.handleSearchAvailibility},"Search"))),l.a.createElement("div",{className:"ui raised very padded text container segment",style:{display:this.state.showAvailabilty&&""==this.state.selectTimeSlot?"block":"none"}},l.a.createElement("div",{className:"time-slots confirmation"},l.a.createElement("h4",null,"Available openings, please select a time to reserve:"),this.state.allotedslots.map(function(t){return l.a.createElement("div",{onClick:function(){return e.setState({selectTimeSlot:t})},className:" ".concat("Unavailable"===t?"ui grey button":"ui green button"),"data-time":t},t)}))),""!==this.state.selectTimeSlot&&"Unavailable"!==this.state.selectTimeSlot&&l.a.createElement(v,{params:this.state})))}}]),t}(l.a.Component);i.a.render(l.a.createElement(b,null),document.querySelector("#root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.a8635b12.chunk.js.map